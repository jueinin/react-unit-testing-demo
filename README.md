尝试写了一些简单的单元测试，这玩意儿主要问题就是要mock，然后就是很多时候要写到waitFor里面，因为组件里面的异步操作太多了

有些ts报错，是之前源代码跟现在类型检查程度不一样 懒得改了